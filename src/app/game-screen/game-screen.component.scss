@use "sass:math";

/// Modified from https://css-tricks.com/snippets/sass/placing-items-circle/
@mixin playingTable($players-count, $card-position) {
  position: relative;

  > * {
    position: absolute;

    $angleStep: calc(360 / $players-count);
    $angle: 270;

    @for $i from 1 through $players-count {
      &:nth-child(#{$i}) {
        left: calc(50% * math.cos($angle * 1deg) + 50%);
        top: calc(50% * math.sin($angle * 1deg) + 50%);
        transform: translate(-50%, -50%);

        //Used for card enter/leave animations
        --card-translation-x: #{calc(-100% * math.cos($angle * 1deg))};
        --card-translation-y: #{calc(-100% * math.sin($angle * 1deg))};

        //Sets the initial cards position
        ::ng-deep .card-holder {
          transform: translate(
            calc(-100% * math.cos($angle * 1deg)),
            calc(-100% * math.sin($angle * 1deg))
          );
        }
      }

      $angle: $angle + $angleStep;
    }
  }
}

.player-holder {
  //First argument should be gameConfig.maxClients + 1
  @include playingTable(8, 0.5);

  border-radius: 100%;
  @apply bg-green-600;

  aspect-ratio: 2/1;
  width: 75%;
}
