<div
  class="rounded p-2 bg-neutral-600 grid place-items-center"
  [class.opacity-70]="type == 'player' && !player?.ready"
  [class.primary-border]="isPlayerTurn"
>
  <div class="flex flex-col col-start-1 row-start-1">
    <span class="text-lg">{{
      type == "dealer" ? "Dealer" : player?.displayName || "No Player"
    }}</span>

    <app-money-counter
      *ngIf="player"
      [money]="player.money"
    ></app-money-counter>

    <app-timestamp-progress-bar
      *ngIf="player"
      class="scale-y-150"
      [endTimestamp]="
        isPlayerTurn ? game.room!.state.currentTurnTimeoutTimestamp : 0
      "
    ></app-timestamp-progress-bar>
  </div>

  <div
    *ngIf="player?.disconnected"
    class="col-start-1 row-start-1 px-1 bg-neutral-800 opacity-90 rounded"
  >
    <mat-icon matTooltip="Player is disconnected">warning</mat-icon>
  </div>
</div>

<div class="card-holder">
  <div class="grid place-items-center">
    <div
      *ngIf="player?.roundOutcome || dealerHand?.isBusted"
      class="bg-black z-10 rounded-xl p-3 text-xl enter-animation col-start-1 row-start-1"
    >
      {{
        player
          ? isCurrentPlayer
            ? roundOutcomeToDisplayMessageCurrentPlayer[player.roundOutcome]
            : roundOutcomeToDisplayMessage[player.roundOutcome]
          : "Busted"
      }}
    </div>

    <div
      class="flex col-start-1 row-start-1 transition-opacity duration-1000"
      [class.opacity-80]="player?.roundOutcome || dealerHand?.isBusted"
    >
      <div class="hand">
        <app-card *ngFor="let card of hand?.cards" [card]="card"></app-card>
      </div>
      <div style="width: 60px"></div>
    </div>
  </div>

  <div class="text-center mt-4" style="height: 1em">
    {{
      !hand?.score
        ? ""
        : hand?.isBlackjack
        ? "Blackjack"
        : "Cards value: " + hand?.score
    }}
  </div>
</div>
